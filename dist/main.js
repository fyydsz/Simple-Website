(()=>{"use strict";const e=12e4;let t=0;const s=document.getElementById("message-input"),n=document.getElementById("message-status");s.addEventListener("keydown",(async o=>{if("Enter"===o.key){if(s.disabled)return;const o=Date.now();if(o-t<e)return n.textContent="You are sending messages too quickly!",setTimeout((()=>{n.textContent=""}),e),t=o,s.disabled=!0,void setTimeout((()=>{s.disabled=!1}),e);if(""===s.value.trim())return n.textContent="Please enter a message!",setTimeout((()=>{n.textContent=""}),2e3),t=o,s.disabled=!0,void setTimeout((()=>{s.disabled=!1}),2e3);console.log(`User typed: ${s.value}`),n.textContent="Sending message...";try{const e=await fetch("/api/input",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s.value,date:(new Date).toISOString()})}),t=await e.json();console.log(t),n.textContent="Message sent successfully!"}catch(e){console.error(e),n.textContent="Error sending message!"}s.value="",t=o,s.disabled=!0,setTimeout((()=>{s.disabled=!1}),3e3)}}))})();